CREATE TABLE public.email_info (
  id bigint GENERATED BY DEFAULT AS IDENTITY NOT NULL,
  created_at timestamp with time zone NOT NULL DEFAULT now(),
  email_user_name text NULL,
  email_passcode text NULL,
  organization_id bigint NULL,
  CONSTRAINT general_info_pkey PRIMARY KEY (id),
  CONSTRAINT general_info_organization_id_fkey FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE
) TABLESPACE pg_default;

CREATE TABLE public.org_members (
  id bigint GENERATED BY DEFAULT AS IDENTITY NOT NULL,
  created_at timestamp with time zone NOT NULL DEFAULT now(),
  first_name text NULL,
  last_name text NULL,
  email text NULL,
  phone_number text NULL,
  organization_id bigint NULL,
  other text NULL,
  CONSTRAINT org_members_pkey PRIMARY KEY (id),
  CONSTRAINT org_members_organization_id_fkey FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE
) TABLESPACE pg_default;

CREATE TABLE public.organizations (
  id bigint GENERATED BY DEFAULT AS IDENTITY NOT NULL,
  created_at timestamp with time zone NOT NULL DEFAULT now(),
  access_code text NULL,
  message_limit bigint NULL,
  twilio_number text NULL,
  email_remaining bigint NULL,
  region_id bigint NULL,
  chapter_name text NULL,
  message_sent bigint NULL,
  emails_sent bigint NULL,
  last_message_sent date NULL,
  last_email_sent date NULL,
  CONSTRAINT organizations_pkey PRIMARY KEY (id),
  CONSTRAINT organizations_chapter_name_key UNIQUE (chapter_name),
  CONSTRAINT organizations_region_id_fkey FOREIGN KEY (region_id) REFERENCES region(id) ON DELETE CASCADE
) TABLESPACE pg_default;

CREATE TABLE public.region (
  id bigint GENERATED BY DEFAULT AS IDENTITY NOT NULL,
  created_at timestamp with time zone NOT NULL DEFAULT now(),
  region text NULL,
  number text NULL,
  CONSTRAINT region_pkey PRIMARY KEY (id)
) TABLESPACE pg_default;
